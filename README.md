# HOL_FP_testing
Validating HOL4's floating-point model with test vectors generated by [Testfloat](http://www.jhauser.us/arithmetic/TestFloat.html)

    Makefile          * Top level makefile for running tests (see fp_test/Makefile)
    mktests_flags.sh  * Script for generating test files using Testfloat

    fp_test/          * Implementation
    testfiles/        * Files with test vectors
    Testfloat-3e      * Testfloat library for generating test vectors


## Test files
The [testfiles](testfiles) directory contains test files for the following operations:
- add32, add64
- sub32, sub64
- mul32, mul64
- div32, div64
- sqrt32, sqrt64
- eq32, eq64
- lt32, lt64
- le32, le64

To generate testfiles for the fused-multiply add operation, run the following commands:
```bash
$ ./mktests_flags.sh -o *+ -f 32 -t after > testfiles/tests_mulAdd32_after.txt
$ ./mktests_flags.sh -o *+ -f 32 -t before > testfiles/tests_mulAdd32_before.txt
$ ./mktests_flags.sh -o *+ -f 64 -t after > testfiles/tests_mulAdd64_after.txt
$ ./mktests_flags.sh -o *+ -f 64 -t before > testfiles/tests_mulAdd64_before.txt

$ cd testfiles
$ python3 underflow_merge.py mulAdd32
$ python3 underflow_merge.py mulAdd64
```